# Plan de Mejora - Acuarela Web

**Fecha de Análisis:** 27 de Enero, 2026
**Estatus:** Pendiente de revisión
**Total de Tareas:** 114
**Documento Base:** [INFORME_DIAGNOSTICO_ACUARELA.md](./INFORME_DIAGNOSTICO_ACUARELA.md)

**Criterios de Evaluación:**

- **Prioridad:** Alta (3), Media (2), Baja (1)
- **Complejidad:** Alta (3), Media (2), Baja (1)

---

## 📱 ACUARELA APP WEB (Portal Miembros)

### Social (Muro)

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 1 | Permitir crear publicaciones con enlaces externos | Baja - 1 | Media - 2 |
| 2 | Cambiar visualización de posts (tipo Instagram) con modal de detalle | Baja - 1 | Media - 2 |
| 3 | Control de privacidad (pública/privada) para publicaciones | Media - 2 | Media - 2 |
| 4 | Filtros de búsqueda para publicaciones (fecha, tipo, autor) | Baja - 1 | Media - 2 |
| 5 | Permitir editar, ocultar o eliminar publicaciones propias | Baja - 1 | Media - 2 |
| 6 | Soporte para múltiples adjuntos (imágenes/videos) en un post | Baja - 1 | Media - 2 |
| 7 | Contador visible de reacciones y comentarios en el listado | Baja - 1 | Baja - 1 |
| 8 | Vista previa enriquecida para enlaces externos (Open Graph) | Baja - 1 | Media - 2 |

### Agregar Niñxs (Inscripción)

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 9 | Filtros avanzados de niños (edad, fecha creación, nombre) | Media - 2 | Media - 2 |
| 10 | Rediseño de tarjetas de niños con información clave (edad, foto) | Media - 2 | Media - 2 |
| 11 | Mostrar foto real del niño o avatar por defecto según género | Baja - 1 | Baja - 1 |
| 12 | Notificación/Campana para registros en borrador | Media - 2 | Media - 2 |
| 13 | Validación de email duplicado en tiempo real | Alto - 3 | Media - 2 |
| 14 | Importación masiva de niños (CSV/Excel) | Media - 2 | Alto - 3 |
| 15 | Barra de búsqueda rápida de niños por nombre | Alto - 3 | Baja - 1 |
| 16 | Cálculo automático y visualización de la edad | Baja - 1 | Baja - 1 |

### Asistencia

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 17 | Registro de asistencia múltiple (grupal) | Alto - 3 | Alto - 3 |
| 18 | Calendario visual de historial de asistencia | Media - 2 | Media - 2 |
| 19 | Dashboard resumen diario (presentes/ausentes) | Alto - 3 | Media - 2 |
| 20 | Opción de "Ausencia justificada" con motivo | Media - 2 | Baja - 1 |
| 21 | Reportes PDF de asistencia descargables | Media - 2 | Media - 2 |
| 22 | Incluir foto del niño en lista de asistencia | Baja - 1 | Baja - 1 |
| 23 | Alertas de retraso según horario configurado | Baja - 1 | Media - 2 |

### Grupos

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 24 | Contador de niños visible en tarjeta de grupo | Alto - 3 | Baja - 1 |
| 25 | Drag & Drop para mover niños entre grupos | Media - 2 | Alto - 3 |
| 26 | Control de capacidad máxima por grupo con alertas | Alto - 3 | Media - 2 |
| 27 | Color distintivo personalizado para cada grupo | Baja - 1 | Baja - 1 |
| 28 | Asignación de múltiples asistentes a un grupo | Media - 2 | Media - 2 |

### Asistentes

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 29 | Sistema de roles y permisos (Admin vs Asistente) | Alto - 3 | Alto - 3 |
| 30 | Historial de actividad (logs) de asistentes | Media - 2 | Media - 2 |
| 31 | Asignación de un asistente a múltiples daycares | Baja - 1 | Media - 2 |
| 32 | Indicador de "Última conexión" | Baja - 1 | Baja - 1 |
| 33 | Invitación automática por email a nuevos asistentes | Alto - 3 | Media - 2 |

### Finanzas

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 34 | Gráficas visuales de ingresos y gastos | Alto - 3 | Media - 2 |
| 35 | Recordatorios automáticos de pago vía email | Alto - 3 | Media - 2 |
| 36 | Exportación de reportes financieros (Excel/PDF) | Media - 2 | Media - 2 |
| 37 | Filtros por categoría en movimientos financieros | Media - 2 | Baja - 1 |
| 38 | Edición/Eliminación de movimientos existentes | Media - 2 | Media - 2 |
| 39 | Vincular pago visualmente con niño asociado | Baja - 1 | Baja - 1 |
| 40 | Búsqueda rápida de movimientos por concepto | Baja - 1 | Baja - 1 |
| 41 | Webhook Stripe para actualización automática de estados | Alto - 3 | Alto - 3 |
| 42 | Envío automático de recibos de pago por email | Media - 2 | Media - 2 |

### Perfil del Niñx

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 43 | Carga/Edición de foto desde el perfil | Media - 2 | Media - 2 |
| 44 | Timeline de actividades recientes | Baja - 1 | Media - 2 |
| 45 | Botón de contacto directo con padres (Email/Tel) | Media - 2 | Baja - 1 |
| 46 | Sección de notas u observaciones internas | Alto - 3 | Media - 2 |
| 47 | Visualización de edad calculada | Baja - 1 | Baja - 1 |

### Configuración

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 48 | Configuración de horarios operativos del daycare | Media - 2 | Media - 2 |
| 49 | Configuración de días feriados/no laborables | Baja - 1 | Media - 2 |

### Reportes y Salud

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 96 | Validación en tiempo real de campos en formulario de salud | Media - 2 | Baja - 1 |
| 97 | Timeline de incidentes anteriores visible en perfil del niño | Media - 2 | Media - 2 |

### Tareas y Checklist

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 98 | Cargar selector de asistentes dinámicamente desde API | Alta - 3 | Baja - 1 |
| 99 | Permitir edición y eliminación de tareas existentes | Media - 2 | Baja - 1 |

### Visitas e Inspección

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 100 | Revisar y completar funcionalidad del módulo de Visitas | Alta - 3 | Alta - 3 |
| 101 | Mostrar preview del reporte antes de generarlo | Media - 2 | Media - 2 |
| 102 | Guardar historial de reportes generados (con límite de retención) | Baja - 1 | Media - 2 |

### Dashboard

| N | Mejora Identificada | Prioridad | Complejidad |
|---|---------------------|-----------|-------------|
| 103 | Conectar widgets a datos reales (API Strapi) | Alta - 3 | Alta - 3 |
| 104 | Sistema de persistencia de widgets activos por usuario/daycare | Alta - 3 | Media - 2 |
| 105 | Corregir rutas y navegación (botones redirigen a /inspeccion) | Alta - 3 | Baja - 1 |
| 106 | Filtro de rango de fechas para gráficas (Hoy/Semana/Mes) | Media - 2 | Media - 2 |
| 107 | Widgets adicionales: Alertas pendientes, Pagos vencidos, Cumpleaños | Media - 2 | Media - 2 |
| 108 | Responsive para gráficas Chart.js en móvil | Media - 2 | Baja - 1 |
| 109 | Agregar Dashboard al sidebar de navegación principal | Alta - 3 | Baja - 1 |
| 110 | Convertir Dashboard en página de inicio por defecto (reemplazar Social) | Alta - 3 | Baja - 1 |
| 111 | Implementar gráficas faltantes (Asistentes inscritos, Asistencia Personal) | Media - 2 | Media - 2 |
| 112 | Tarjetas KPI de resumen rápido (Total niños, Ingresos mes, % Asistencia) | Alta - 3 | Media - 2 |
| 113 | Drag & Drop para reordenar widgets en el Dashboard | Baja - 1 | Alta - 3 |
| 114 | Widget de Notificaciones/Alertas pendientes | Media - 2 | Media - 2 |

---

## 🌐 WEB ACUARELA (Página Institucional)

| N | Sección | Mejora Identificada | Prioridad | Complejidad |
|---|---------|---------------------|-----------|-------------|
| 50 | Home | Tutoriales guiados interactivos (Onboarding) | Alto - 3 | Media - 2 |
| 51 | Home | **[CRÍTICO]** Reemplazar Lorem Ipsum en Demo | Alto - 3 | Baja - 1 |
| 52 | Home | Testimonios reales con foto | Media - 2 | Media - 2 |
| 53 | Home | Video explicativo en Hero section | Baja - 1 | Media - 2 |
| 54 | Home | Contadores de impacto (Daycares/Niños) | Baja - 1 | Media - 2 |
| 55 | Planes | Tabla comparativa visual de planes | Alto - 3 | Media - 2 |
| 56 | Planes | FAQs específicas por plan | Media - 2 | Baja - 1 |
| 57 | Planes | Calculadora de ahorro inversión | Baja - 1 | Media - 2 |
| 58 | General | Lazy Loading en imágenes | Media - 2 | Media - 2 |
| 59 | General | Selector de Idioma (ES/EN) | Alto - 3 | Media - 2 |
| 60 | Footer | Enlaces a redes sociales | Baja - 1 | Baja - 1 |
| 61 | SEO | Meta descriptions únicas | Media - 2 | Baja - 1 |
| 62 | SEO | Schema markup (Organization, Product) | Baja - 1 | Media - 2 |

---

## 🛠️ DEUDA TÉCNICA Y ESTABILIDAD

| N | Archivo | Mejora Identificada | Prioridad | Complejidad |
|---|---------|---------------------|-----------|-------------|
| 63 | createproduct.php | Eliminar archivo de prueba (credenciales sandbox hardcodeadas) | Media - 2 | Baja - 1 |
| 64 | createPaymentLink.php | Eliminar archivo de prueba (credenciales sandbox hardcodeadas) | Media - 2 | Baja - 1 |
| 65 | createPrices.php | Eliminar archivo de prueba (credenciales sandbox hardcodeadas) | Media - 2 | Baja - 1 |
| 66 | paypaltoken.php | Eliminar archivo de prueba (credenciales sandbox hardcodeadas) | Media - 2 | Baja - 1 |
| 67 | Login 2FA | Bloqueo temporal tras 5 intentos fallidos | Alto - 3 | Media - 2 |
| 68 | Endpoints | Rate Limiting global | Media - 2 | Alto - 3 |
| 69 | Formularios | Protección CSRF en POSTs críticos | Media - 2 | Media - 2 |
| 70 | login.php | Manejo de errores seguro (quitar error_reporting 0) | Media - 2 | Baja - 1 |
| 71 | SDKs | Unificación de librerías SDK duplicadas | Media - 2 | Alto - 3 |

---

## 🚀 EXPERIENCIA DE USUARIO Y PERFORMANCE

### Tiempos de Carga

| N | Área | Mejora Identificada | Prioridad | Complejidad |
|---|------|---------------------|-----------|-------------|
| 72 | SDK/API | Cache de sesión para datos estáticos (DaycareInfo) | Alto - 3 | Media - 2 |
| 73 | SDK/API | Optimización `_limit` en consultas masivas | Alto - 3 | Baja - 1 |
| 74 | JS | Minificación de main.js (280KB+) | Medio - 2 | Baja - 1 |
| 75 | CSS | Minificación y Critical CSS | Medio - 2 | Baja - 1 |
| 76 | Imágenes | Compresión de uploads en servidor | Medio - 2 | Media - 2 |
| 77 | API | Concurrencia con `Promise.all` | Medio - 2 | Media - 2 |

### Paginación y Tablas

| N | Área | Mejora Identificada | Prioridad | Complejidad |
|---|------|---------------------|-----------|-------------|
| 78 | Inscripciones | Paginación server-side de niños | Alto - 3 | Media - 2 |
| 79 | Asistencia | Paginación server-side de asistencia | Alto - 3 | Media - 2 |
| 80 | Finanzas | Paginación server-side de movimientos | Medio - 2 | Media - 2 |
| 81 | Asistentes | Paginación lista asistentes | Baja - 1 | Baja - 1 |
| 82 | Grupos | Lazy loading de contenido de grupos | Medio - 2 | Media - 2 |

### Feedback Visual

| N | Área | Mejora Identificada | Prioridad | Complejidad |
|---|------|---------------------|-----------|-------------|
| 83 | Global | Skeleton Loaders (reemplazar preloader estático) | Alto - 3 | Media - 2 |
| 84 | Listas | Indicador de carga inferior (Infinite Scroll) | Medio - 2 | Baja - 1 |
| 85 | Uploads | Barra de progreso real para subidas | Medio - 2 | Media - 2 |
| 86 | Interacción | Estados de "Cargando" en botones (evitar dbl click) | Alto - 3 | Baja - 1 |
| 87 | Feedback | Toasts/Snackbars para confirmaciones | Medio - 2 | Media - 2 |
| 88 | Formularios | Persistencia local ante errores (Drafts) | Baja - 1 | Media - 2 |

### Optimización Consultas

| N | Área | Mejora Identificada | Prioridad | Complejidad |
|---|------|---------------------|-----------|-------------|
| 89 | Backend | Resolver problema N+1 en Inscripciones | Alto - 3 | Alto - 3 |
| 90 | Backend | Selección de campos específicos (GraphQL/Fields) | Medio - 2 | Baja - 1 |
| 91 | Frontend | Virtualización de listas largas (Posts) | Baja - 1 | Baja - 1 |
| 92 | SDK | Cache de instancia DaycareInfo | Alto - 3 | Media - 2 |

### Responsive y Mobile

| N | Área | Mejora Identificada | Prioridad | Complejidad |
|---|------|---------------------|-----------|-------------|
| 93 | Tablas | Adaptación móvil de tablas (Cards/Scroll) | Alto - 3 | Media - 2 |
| 94 | Navegación | Soporte de gestos (Swipe) | Baja - 1 | Media - 2 |
| 95 | Offline | Service Worker básico (PWA) | Baja - 1 | Alto - 3 |

---

## 🗺️ ESTRATEGIA DE EJECUCIÓN Y DEPENDENCIAS

Para asegurar una implementación ordenada que minimice riesgos técnicos, se distribuyen las **114 tareas** en 5 fases semanales:

### FASE 1: Estabilidad, Dashboard y Navegación (Semana 1)
*Objetivo: Estabilizar el código base y activar el Dashboard como página de inicio.*
> **Tareas: ~23** | **Dependencias:** Acceso total al servidor.

| Categoría | IDs | Descripción |
|-----------|-----|-------------|
| Limpieza Código | 63-66, 70 | Eliminar archivos de prueba y corregir error_reporting |
| Seguridad | 67-69 | Rate Limiting, CSRF Tokens, Bloqueo intentos fallidos |
| SDK | 71-72, 92 | Unificar SDKs, Cache de sesión |
| **Dashboard** | 103, 105, 109, 110 | Conectar a API, corregir rutas, agregar a sidebar, hacer página inicio |
| Navegación | 93 | Tablas responsive móvil |

### FASE 2: Quick Wins y UX Inmediato (Semana 2)
*Objetivo: Mejoras visibles de bajo esfuerzo que impactan percepción de calidad.*
> **Tareas: ~25** | **Dependencias:** Fase 1 completada.

| Categoría | IDs | Descripción |
|-----------|-----|-------------|
| Contenido | 51, 61, 62 | Reemplazar Lorem Ipsum, Meta descriptions, Schema markup |
| Performance | 58, 74-77 | Lazy Loading, Minificar JS/CSS, Compresión, Promise.all |
| Feedback | 83-87 | Skeleton Loaders, estados carga, Toasts, barra progreso |
| Búsqueda | 15, 40 | Barras búsqueda en Niños y Finanzas |
| Dashboard | 104, 106, 108 | Persistencia widgets, filtro fechas, responsive |

### FASE 3: Performance Backend y Paginación (Semana 3)
*Objetivo: Corregir cuellos de botella críticos de rendimiento.*
> **Tareas: ~22** | **Dependencias:** SDK unificado (Fase 1).

| Categoría | IDs | Descripción |
|-----------|-----|-------------|
| Consultas | 73, 89, 90 | Optimizar _limit, resolver N+1, selección campos |
| Paginación | 78-82 | Paginación server-side (Niños, Asistencia, Finanzas, Asistentes, Grupos) |
| Roles | 29-32 | Sistema permisos Admin/Asistente, historial actividad, última conexión |
| Validaciones | 13, 96 | Email duplicado tiempo real, validación campos salud |
| Checklist | 98-99 | Selector asistentes dinámico, edición/eliminación tareas |

### FASE 4: Funcionalidades Core y Dashboard Avanzado (Semana 4)
*Objetivo: Completar funcionalidades de alto valor operativo.*
> **Tareas: ~24** | **Dependencias:** Paginación implementada (Fase 3).

| Categoría | IDs | Descripción |
|-----------|-----|-------------|
| Asistencia | 17-23 | Check-in grupal, calendario, dashboard diario, ausencias, reportes PDF |
| Finanzas | 34-42 | Gráficas, recordatorios, exportación, filtros, Webhook Stripe, recibos |
| Dashboard | 107, 111-112, 114 | Widgets adicionales, gráficas faltantes, KPIs, notificaciones |
| Incidentes | 97 | Timeline incidentes anteriores en perfil |
| Grupos | 24-28 | Contador niños, Drag&Drop, capacidad, colores, multi-asistente |

### FASE 5: Nuevas Funcionalidades y Pulido (Semana 5)
*Objetivo: Agregar características nuevas y pulir detalles.*
> **Tareas: ~20** | **Dependencias:** Sistema estable.

| Categoría | IDs | Descripción |
|-----------|-----|-------------|
| Web Marketing | 50, 52-57 | Onboarding, testimonios, video hero, planes, FAQs, calculadora |
| Social | 1-8 | Enlaces externos, modal detalle, privacidad, filtros, multi-adjuntos |
| Perfil Niño | 43-47 | Foto, timeline, contacto padres, notas, edad |
| Configuración | 48-49 | Horarios operativos, días feriados |
| Inspección | 100-102 | Revisar Visitas, preview reporte, historial reportes |
| Inscripción | 9-12, 14, 16 | Filtros, tarjetas, foto, notificación borrador, importación masiva |
| Avanzado | 88, 91, 94, 95, 113 | Drafts formularios, virtualización, gestos, PWA, Drag&Drop widgets |

---

## 📊 Matriz de Priorización (Resumen)

| Cuadrante | Descripción | IDs Típicos | Acción Recomendada |
|-----------|-------------|-------------|--------------------|
| **1. Crítico / Complejo** | Alto Impacto, Alta Complejidad | 63, 64, 89, 29 | **Planificar Sprint Dedicado** |
| **2. Quick Wins** | Alto Impacto, Baja Complejidad | 51, 86, 15, 74 | **Ejecutar YA** |
| **3. Necesario** | Medio Impacto, Media Complejidad | 18, 30, 48 | **Agendar en Backlog** |
| **4. Deseable** | Bajo Impacto, Baja/Media Complejidad | 7, 22, 60 | **Hacer si sobra tiempo** |

---
